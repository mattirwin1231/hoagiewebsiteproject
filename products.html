<!DOCTYPE html>
<html lang = "en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Hangover Hoagies Products</title>
  <link href="style-products.css" rel="stylesheet" type="text/css">
</head>

<body>
 <div>
    <div>
      <img id='logo' src='logo.png' title='company logo' alt='logo for hangover hoagies'>
    </div>
  </div>

  <div>
    <div id="name">
      <h1>HANGOVER HOAGIES</h1>
    </div>
  </div>
  <br>
  <div>
    <h2 id='menu'> <a href="home.html">Home</a> | <a
        href="contact.html">Contact</a> | <a
        href="products.html">Products</a></h2>
  </div>

  <hr>

  <h1 id="products">Sandwiches</h1>
<table>

  <tr>
    <td>
<div id="1">
  <img id="italian" class="sandwich_pic" src='italian-hangover.jpg' title='italian hangover' alt='picture of italian hangover sandwich'>
  <h2 class="sandwich">Italian Hangover</h2>
  <p>Capicola, Genoa Salami, Ham, Provolone, Lettuce, Tomatoes, Onions, Mayo, Oil & Vinegar, Oregano. (Toasted).</p>
</div>
      </td>

    <td>
  <div id="2">
  <img id="meatball" class="sandwich_pic" src='meatball_orig.jpg' title='tipsy meatball' alt='picture of tipsy meatball sandwich'>
  <h2 class="sandwich">Tipsy Meatball</h2>
  <p>Meatballs, Provolone, Marinara, Oregano. (Toasted).</p>
  </div>
      </td>
<td>
  <div id="3">
  <img id="turkey" class="sandwich_pic" src="turkey_strami.jpg" title='intoxicated turkey pastrami' alt='picture of intoxicated turkey pastrami'>
  <h2 class="sandwich">Intoxicated Turkey Pastrami</h2>
  <p>Turkey, Pastrami, Pepper Jack, Lettuce, Tomatoes, Cherry Pepper, Onions, Mayo, Mustard. (Toasted).</p>
  </div>
  </td>
  </tr>

  <tr>
    <td>
      <div id="4">
  <img id="chicken" class="sandwich_pic" src="pesto.jpg" title='chicken pesto bomb' alt='picture of chicken pesto bomb'>
  <h2 class="sandwich">Chicken Pesto Bomb</h2>
  <p>Chicken Breast, Basil Pesto, Mozzarella, Fresh Basil, Tomatoes, Olive Oil.</p>
      </div>
    </td>

    
    <td>
      <div id="5">
  <img id="reuben" class="sandwich_pic" src="reuben.jpg" title='effed up reuben' alt='picture of effed up reuben'>
  <h2 class="sandwich">Effed Up Reuben</h2>
  <p>Corned Beef, Bacon, Pepper Jack, Lettuce, Tomatoes, Jalapenos, Thousand Island. (Toasted).</p>
      </div>
    </td>

    <td>
        <div id="productList">
            <button onclick="getProducts();">Show me products </button>
            <button onclick="calculateCost();">What's the cost? </button>
          <table  border="1">
            <tr>
              <th width=200px>Product Name</th>
              <th width=50px>Price</th>
              <th width=170px>Quantity</th>
            </tr>
          </table>
        <table  id="prd" border="1">
      
      </table>
      </div>
    </td>
  
  </tr>

  </table>
  
  <!-- <script src='script.js'></script> -->

 <!--  <div id="products">
      <button onclick="getProducts();">Show me products </button>
      <button onclick="calculateCost();">What's the cost? </button>
	<table  border="1">
  <tr>
    <th width=200px>Product Name</th>
    <th width=50px>Price</th>
    <th width=170px>Quantity</th>
  </tr>
</table>
<table  id="prd" border="1">
	
</table>
</div> -->

  
<script src=https://code.jquery.com/jquery-3.6.4.min.js> </script>
<script>

var products;
	
function getProducts(){

	$.get("?tableName=products", function(productTable){
		//console.log(productTable);

		$('#prd').empty();
		products = JSON.parse(productTable);
		products.forEach(function(product){
			$("#prd").append("<tr><td width=200px>" + product.prod_name + "</td> <td width=50px>" + product.prod_price +"</td>  <td width=170px><input type='number' id="+ product.prod_id +"> </td> </tr>");



		});

		$("#productList").append("<div id='cost'>  </div>");

	}); // end $.get

} // getProducts()

function calculateCost(){

	var sum = 0;

	if (products) {
		$('#cost').empty();

		products.forEach(function(product){

			sum = sum + product.prod_price * $("#" + product.prod_id).val();

		});
		sum = sum * 1.11; // 10% tax plua 1% service fee
		$('#cost').append("<br><div> Cost = $" + sum.toFixed(2) + " incl of 10% tax and a 1% service fee.  </div>");

	}

} //calculateCost()

</script>


</body>
</html>